<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
	  <div class="container" mt-5>
		<h1>Welcome to Reports App</h1>
	  </div>
	  <div class="container" mt-5>
		<form th:action="@{/filter-data}" th:object="${search}" method="POST">
			<table>
				<tr>
					<td>
						<select class="form-control" th:field="*{planName}">
							
							<option value="">-Plan Name-</option>
							<option th:each="name : ${plannames}"
							       th:value="${name}"
							        th:text="${name}">
						    </option>
								
						</select>
					</td>
					<td>
						<select class="form-control" th:field="*{planStatus}">
							<option value="">-Plan Status-</option>
							<option th:each="status : ${planstatus}"
							th:value="${status}"
							th:text="${status}"
							></option>
						</select>
					</td>
					<td>
						<select class="form-control" th:field="*{gender}">
							<option value="">Gender </option>
							<option value="Male">Male </option>
							<option value="Fe-Male">Fe-Male</option>
						</select>
					</td>
					<td>
						<input type="date" class="form-control" th:field="*{planStartDate}"/>
					</td>
					<td>
						<input type="date" class="form-control" th:field="*{planEndDate}"/>
					</td>
					<td>
                       <input type="submit" value="Search" class="btn btn-primary"/>
					</td>
				</tr>
			</table>
		</form>
	  </div>
	  <div class="container" mt-5>
		<h2>View Citizen Plans  Data</h2>
		<table class="table table-bordered table-striped">
					<thead >
						<tr>
					
							<th>Name</th>
							<th>Gender</th>
							<th>Plan Name</th>
							<th>Plan Status</th>
							<th>SSN</th>
							<th>Phno</th>
							
						</tr>
					</thead>
		           <tbody>
					<tr th:each="user:${citizens}">
						<td th:text="${user.name}"></td>
						<td th:text="${user.gender}"></td>
						<td th:text="${user.planName}"></td>
						<td th:text="${user.planStatus}"></td>
						<td th:text="${user.ssn}"></td>
						<td th:text="${user.phno}"></td>
						
						
					</tr>
					<div th:if="${citizens==null or citizens.isEmpty()}">
					<tr>
						<td colspan="6" align="center" class="text-danger">No Record Found</td>
					</tr>
					</div>
				   </tbody>
				 </table>
	  </div>
	  <div class="container text-center ">
		<a href="" class="btn btn-primary">Export as Excel </a>
		<a href="" class="btn btn-danger">Export as Pdf</a>
		
	  </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>